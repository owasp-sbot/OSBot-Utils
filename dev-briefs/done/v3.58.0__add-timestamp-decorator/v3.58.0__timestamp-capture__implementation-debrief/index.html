<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://owasp-sbot.github.io/OSBot-Utils/dev-briefs/done/v3.58.0__add-timestamp-decorator/v3.58.0__timestamp-capture__implementation-debrief/" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
    <title>Timestamp Capture System - Implementation Debrief - OSBot-Utils Documentation</title>
    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Timestamp Capture System - Implementation Debrief";
        var mkdocs_page_input_path = "dev-briefs/done/v3.58.0__add-timestamp-decorator/v3.58.0__timestamp-capture__implementation-debrief.md";
        var mkdocs_page_url = "/OSBot-Utils/dev-briefs/done/v3.58.0__add-timestamp-decorator/v3.58.0__timestamp-capture__implementation-debrief/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../.." class="icon icon-home"> OSBot-Utils Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Code</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >OSBot Utils</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Helpers</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../code/osbot_utils/helpers/flows/osbot-utils-flow-system-documentation/">Flows</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../dev/Python-code-formatting-guidelines/">Coding Guidelines</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Type Safety</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../../../../dev/type_safe/python-type-safety-frameworks-compared.md">Frameworks Compared</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../../../dev/type_safe/type-safe-technical-documentation.md">Technical Documentation</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../..">OSBot-Utils Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Timestamp Capture System - Implementation Debrief</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="timestamp-capture-system-implementation-debrief">Timestamp Capture System - Implementation Debrief<a class="headerlink" href="#timestamp-capture-system-implementation-debrief" title="Permanent link">&para;</a></h1>
<p><strong>Version</strong>: v3.58.0<br />
<strong>Date</strong>: December 2025<br />
<strong>Status</strong>: Production Ready</p>
<hr />
<h2 id="executive-summary">Executive Summary<a class="headerlink" href="#executive-summary" title="Permanent link">&para;</a></h2>
<p>Successfully implemented a lightweight performance instrumentation framework for OSBot-Utils that achieves <strong>~8μs capture overhead</strong> through strategic optimization. The system uses decorators and stack-walking to capture execution timestamps with minimal code changes, and can safely remain in production code.</p>
<hr />
<h2 id="implementation-overview">Implementation Overview<a class="headerlink" href="#implementation-overview" title="Permanent link">&para;</a></h2>
<h3 id="final-architecture">Final Architecture<a class="headerlink" href="#final-architecture" title="Permanent link">&para;</a></h3>
<pre><code>osbot_utils/helpers/timestamp_capture/
├── Timestamp_Collector.py              # Core recording (enter/exit/record)
├── Timestamp_Collector__Analysis.py    # Timing calculations &amp; hotspot analysis
├── Timestamp_Collector__Report.py      # Formatting &amp; printing
├── timestamp_collector__config.py      # Constants (MAX_STACK_DEPTH, etc.)
│
├── context_managers/
│   └── timestamp_block.py              # with timestamp_block(&quot;name&quot;): ...
│
├── decorators/
│   └── timestamp.py                    # @timestamp decorator
│
├── schemas/
│   ├── Schema__Timestamp_Entry.py      # @dataclass(slots=True)
│   └── Schema__Method_Timing.py        # @dataclass(slots=True)
│
└── static_methods/
    ├── find_timestamp_collector.py     # Stack-walking to find collector
    └── timestamp_utils.py              # Timing conversion utilities
</code></pre>
<h3 id="design-principles-applied">Design Principles Applied<a class="headerlink" href="#design-principles-applied" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Principle</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Single Responsibility</strong></td>
<td>Collector (recording), Analysis (calculations), Report (formatting)</td>
</tr>
<tr>
<td><strong>Minimal Code Changes</strong></td>
<td>Just add <code>@timestamp</code> decorator to methods</td>
</tr>
<tr>
<td><strong>No Signature Changes</strong></td>
<td>Stack-walking finds collector automatically</td>
</tr>
<tr>
<td><strong>Leave-in-Place</strong></td>
<td>~3μs overhead acceptable for production</td>
</tr>
<tr>
<td><strong>Performance Critical</strong></td>
<td><code>@dataclass(slots=True)</code> for schemas</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="performance-journey">Performance Journey<a class="headerlink" href="#performance-journey" title="Permanent link">&para;</a></h2>
<h3 id="initial-implementation-type_safe-schemas">Initial Implementation (Type_Safe Schemas)<a class="headerlink" href="#initial-implementation-type_safe-schemas" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────────────────────┐
│                    INITIAL PERFORMANCE RESULTS                              │
├─────────────────────────────────────────────────────────────────────────────┤
│  Stack-walk overhead (no collector):     ~3.2 μs                            │
│  Full capture overhead (with collector): ~76 μs   ← BOTTLENECK              │
│  Test suite execution time:              42 seconds                         │
└─────────────────────────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>Root Cause Analysis:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Time</th>
<th>% of Total</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type_Safe Schema__Timestamp_Entry creation</td>
<td>~60 μs</td>
<td>79%</td>
</tr>
<tr>
<td>sys._getframe() + frame traversal</td>
<td>~3 μs</td>
<td>4%</td>
</tr>
<tr>
<td>time.perf_counter_ns() + time.time_ns()</td>
<td>~2 μs</td>
<td>3%</td>
</tr>
<tr>
<td>List append operations</td>
<td>~1 μs</td>
<td>1%</td>
</tr>
<tr>
<td>Other</td>
<td>~10 μs</td>
<td>13%</td>
</tr>
</tbody>
</table>
<h3 id="optimization-type_safe-dataclassslotstrue">Optimization: Type_Safe → @dataclass(slots=True)<a class="headerlink" href="#optimization-type_safe-dataclassslotstrue" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># BEFORE: ~60μs per object creation
class Schema__Timestamp_Entry(Type_Safe):
    name         : str              = ''
    event        : str              = ''
    timestamp_ns : int              = 0
    ...

# AFTER: ~0.3μs per object creation
@dataclass(slots=True)
class Schema__Timestamp_Entry:
    name         : str              = ''
    event        : str              = ''
    timestamp_ns : int              = 0
    ...

    def __enter__(self):            # Preserves context manager pattern
        return self

    def __exit__(self, exc_type, exc_val, exc_tb):
        return False
</code></pre>
<h3 id="final-performance-results">Final Performance Results<a class="headerlink" href="#final-performance-results" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────────────────────┐
│                    OPTIMIZED PERFORMANCE RESULTS                            │
├─────────────────────────────────────────────────────────────────────────────┤
│  Stack-walk overhead (no collector):     ~3 μs    (unchanged)               │
│  Full capture overhead (with collector): ~8 μs    (9.5x improvement)        │
│  Test suite execution time:              7 seconds (6x improvement)         │
└─────────────────────────────────────────────────────────────────────────────┘
</code></pre>
<h3 id="performance-comparison">Performance Comparison<a class="headerlink" href="#performance-comparison" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Type_Safe</th>
<th>@dataclass(slots=True)</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Full capture overhead</td>
<td>76 μs</td>
<td><strong>8 μs</strong></td>
<td><strong>9.5x faster</strong></td>
</tr>
<tr>
<td>Test suite time</td>
<td>42 sec</td>
<td><strong>7 sec</strong></td>
<td><strong>6x faster</strong></td>
</tr>
<tr>
<td>10K captures</td>
<td>762 ms</td>
<td><strong>92 ms</strong></td>
<td><strong>8x faster</strong></td>
</tr>
<tr>
<td>Memory per entry</td>
<td>~400 bytes</td>
<td>~80 bytes</td>
<td><strong>5x smaller</strong></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="why-dataclassslotstrue">Why @dataclass(slots=True)?<a class="headerlink" href="#why-dataclassslotstrue" title="Permanent link">&para;</a></h2>
<h3 id="slotstrue-explained">slots=True Explained<a class="headerlink" href="#slotstrue-explained" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># Normal Python objects use __dict__
class Normal:
    x: int = 0
    y: int = 0

obj = Normal()
obj.__dict__  # {'x': 0, 'y': 0} ← Hash table overhead
obj.z = 3     # ✅ Can add attributes dynamically

# With __slots__, attributes stored in fixed memory
@dataclass(slots=True)
class Slotted:
    x: int = 0
    y: int = 0

obj = Slotted()
# No __dict__ - direct memory offset access
obj.z = 3     # ❌ AttributeError - fixed structure
</code></pre>
<h3 id="trade-offs-accepted">Trade-offs Accepted<a class="headerlink" href="#trade-offs-accepted" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Lost</th>
<th>Gained</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamic attribute addition</td>
<td>9.5x faster object creation</td>
</tr>
<tr>
<td>Type_Safe runtime validation</td>
<td>5x smaller memory footprint</td>
</tr>
<tr>
<td>JSON serialization helpers</td>
<td>Direct attribute access speed</td>
</tr>
</tbody>
</table>
<p><strong>Acceptable because:</strong> Schema objects are internal implementation details, not API boundaries. Type safety enforced by usage patterns, not runtime checks.</p>
<hr />
<h2 id="production-readiness-analysis">Production Readiness Analysis<a class="headerlink" href="#production-readiness-analysis" title="Permanent link">&para;</a></h2>
<h3 id="overhead-impact-by-method-duration">Overhead Impact by Method Duration<a class="headerlink" href="#overhead-impact-by-method-duration" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Method Duration</th>
<th>Capture Overhead</th>
<th>Relative Impact</th>
<th>Verdict</th>
</tr>
</thead>
<tbody>
<tr>
<td>100 ms (HTTP request)</td>
<td>8 μs</td>
<td>0.008%</td>
<td>✅ Negligible</td>
</tr>
<tr>
<td>10 ms (DB query)</td>
<td>8 μs</td>
<td>0.08%</td>
<td>✅ Negligible</td>
</tr>
<tr>
<td>1 ms (processing)</td>
<td>8 μs</td>
<td>0.8%</td>
<td>✅ Acceptable</td>
</tr>
<tr>
<td>100 μs (function)</td>
<td>8 μs</td>
<td>8%</td>
<td>✅ Acceptable</td>
</tr>
<tr>
<td>10 μs (tight loop)</td>
<td>8 μs</td>
<td>80%</td>
<td>⚠️ Consider</td>
</tr>
<tr>
<td>1 μs (micro-op)</td>
<td>8 μs</td>
<td>800%</td>
<td>❌ Avoid</td>
</tr>
</tbody>
</table>
<h3 id="stack-walk-overhead-no-collector">Stack-Walk Overhead (No Collector)<a class="headerlink" href="#stack-walk-overhead-no-collector" title="Permanent link">&para;</a></h3>
<p>When no collector is present (normal production operation):</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Overhead</th>
<th>Verdict</th>
</tr>
</thead>
<tbody>
<tr>
<td>Single decorated method</td>
<td>~3 μs</td>
<td>✅ Leave in place</td>
</tr>
<tr>
<td>2 nested decorators</td>
<td>~6 μs</td>
<td>✅ Leave in place</td>
</tr>
<tr>
<td>4 nested decorators</td>
<td>~14 μs</td>
<td>✅ Leave in place</td>
</tr>
<tr>
<td>Hot loop (1M iterations)</td>
<td>~3 seconds added</td>
<td>⚠️ Decorate outer only</td>
</tr>
</tbody>
</table>
<h3 id="recommendation">Recommendation<a class="headerlink" href="#recommendation" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────────────────────┐
│  PRODUCTION GUIDANCE                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│  ✅ Safe to leave @timestamp decorators in production code                  │
│  ✅ Full capture mode acceptable for staging/testing environments           │
│  ✅ ~3μs stack-walk overhead negligible for methods &gt;100μs                  │
│  ⚠️  For hot loops, decorate only the outer entry point                     │
└─────────────────────────────────────────────────────────────────────────────┘
</code></pre>
<hr />
<h2 id="test-coverage">Test Coverage<a class="headerlink" href="#test-coverage" title="Permanent link">&para;</a></h2>
<h3 id="final-test-suite">Final Test Suite<a class="headerlink" href="#final-test-suite" title="Permanent link">&para;</a></h3>
<pre><code>tests/unit/helpers/timestamp_capture/
├── test_Timestamp_Collector.py              # 12 tests
├── test_Timestamp_Collector__Analysis.py    # 10 tests  
├── test_Timestamp_Collector__Report.py      # 12 tests
├── test_Timestamp_Collector__Integration.py # 6 tests
├── test_Timestamp_Capture__Performance.py   # 6 tests
│
├── context_managers/
│   └── test_timestamp_block.py              # 8 tests
│
├── decorators/
│   └── test_timestamp.py                    # 12 tests
│
├── schemas/
│   ├── test_Schema__Timestamp_Entry.py      # 3 tests
│   └── test_Schema__Method_Timing.py        # 3 tests
│
├── static_methods/
│   └── test_find_timestamp_collector.py     # 9 tests
│
└── utils/
    └── test_timing_utils.py                 # 7 tests
</code></pre>
<h3 id="coverage-summary">Coverage Summary<a class="headerlink" href="#coverage-summary" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total Tests</td>
<td>85</td>
</tr>
<tr>
<td>Files Covered</td>
<td>100%</td>
</tr>
<tr>
<td>Lines Covered</td>
<td>100%</td>
</tr>
<tr>
<td>Test Execution Time</td>
<td>~7 seconds</td>
</tr>
<tr>
<td>Performance Tests</td>
<td>~7 seconds (10K iterations × 5 runs)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h2>
<h3 id="timestamp-decorator">@timestamp Decorator<a class="headerlink" href="#timestamp-decorator" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from osbot_utils.helpers.timestamp_capture.decorators.timestamp import timestamp

@timestamp
def my_method(self):
    ...

@timestamp(name=&quot;custom.name&quot;)
def another_method(self):
    ...
</code></pre>
<h3 id="timestamp_block-context-manager">timestamp_block Context Manager<a class="headerlink" href="#timestamp_block-context-manager" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from osbot_utils.helpers.timestamp_capture.context_managers.timestamp_block import timestamp_block

with timestamp_block(&quot;processing_phase&quot;):
    # Code to measure
    ...
</code></pre>
<h3 id="timestamp_collector">Timestamp_Collector<a class="headerlink" href="#timestamp_collector" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from osbot_utils.helpers.timestamp_capture.Timestamp_Collector import Timestamp_Collector

_timestamp_collector_ = Timestamp_Collector(name=&quot;my_workflow&quot;)

with _timestamp_collector_:
    result = do_work()

# Access results
print(_timestamp_collector_.total_duration_ms())
print(_timestamp_collector_.entry_count())
</code></pre>
<h3 id="timestamp_collector__analysis">Timestamp_Collector__Analysis<a class="headerlink" href="#timestamp_collector__analysis" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from osbot_utils.helpers.timestamp_capture.Timestamp_Collector__Analysis import Timestamp_Collector__Analysis

analysis = Timestamp_Collector__Analysis(collector=_timestamp_collector_)

timings  = analysis.get_method_timings()      # Dict[str, Schema__Method_Timing]
hotspots = analysis.get_hotspots(top_n=10)    # List[Schema__Method_Timing]
</code></pre>
<h3 id="timestamp_collector__report">Timestamp_Collector__Report<a class="headerlink" href="#timestamp_collector__report" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from osbot_utils.helpers.timestamp_capture.Timestamp_Collector__Report import Timestamp_Collector__Report

report = Timestamp_Collector__Report(collector=_timestamp_collector_)

report.print_report()                         # Comprehensive timing report
report.print_hotspots(top_n=10)               # Top methods by self-time
report.print_timeline(max_entries=100)        # Chronological view
</code></pre>
<hr />
<h2 id="sample-output">Sample Output<a class="headerlink" href="#sample-output" title="Permanent link">&para;</a></h2>
<pre><code>====================================================================================================
Timestamp Report: html_conversion
====================================================================================================

  Total Duration : 245.67 ms
  Entry Count    : 1,247
  Methods Traced : 8

Method Timings (sorted by total time):
----------------------------------------------------------------------------------------------------
Method                                             Calls      Total       Self      Avg    %Total
----------------------------------------------------------------------------------------------------
Html__To__Html_MGraph__Document.convert                1   198.45ms   12.34ms 198.450ms   80.8%
build_attrs_graph                                      1   112.23ms  112.23ms 112.230ms   45.7%
build_body_graph                                       1    65.78ms   23.45ms  65.780ms   26.8%
process_element                                      156    42.33ms   42.33ms   0.271ms   17.2%
_parse_html                                            1     8.12ms    8.12ms   8.120ms    3.3%
----------------------------------------------------------------------------------------------------

================================================================================
Top 10 Hotspots (by self-time)
================================================================================
   1. build_attrs_graph                        112.23ms (45.7%) [1 calls]
   2. process_element                           42.33ms (17.2%) [156 calls]
   3. build_body_graph                          23.45ms ( 9.5%) [1 calls]
   4. Html__To__Html_MGraph__Document.convert   12.34ms ( 5.0%) [1 calls]
   5. _parse_html                                8.12ms ( 3.3%) [1 calls]
================================================================================
</code></pre>
<hr />
<h2 id="key-learnings">Key Learnings<a class="headerlink" href="#key-learnings" title="Permanent link">&para;</a></h2>
<h3 id="1-type_safe-is-expensive-for-high-volume-objects">1. Type_Safe is Expensive for High-Volume Objects<a class="headerlink" href="#1-type_safe-is-expensive-for-high-volume-objects" title="Permanent link">&para;</a></h3>
<p>Type_Safe provides excellent runtime safety but at ~60μs per object creation. For schemas created thousands of times per profiling session, this dominated total overhead.</p>
<h3 id="2-dataclassslotstrue-is-the-sweet-spot">2. @dataclass(slots=True) is the Sweet Spot<a class="headerlink" href="#2-dataclassslotstrue-is-the-sweet-spot" title="Permanent link">&para;</a></h3>
<p>Provides constructor syntax, type hints for IDE support, and minimal memory/CPU overhead. The loss of dynamic attributes is acceptable for internal data structures.</p>
<h3 id="3-stack-walking-is-surprisingly-fast">3. Stack-Walking is Surprisingly Fast<a class="headerlink" href="#3-stack-walking-is-surprisingly-fast" title="Permanent link">&para;</a></h3>
<p><code>sys._getframe()</code> traversal at ~3μs is negligible. The original design's concern about stack-walk overhead was unfounded.</p>
<h3 id="4-measure-before-optimizing">4. Measure Before Optimizing<a class="headerlink" href="#4-measure-before-optimizing" title="Permanent link">&para;</a></h3>
<p>Initial assumption was that timing calls (<code>perf_counter_ns</code>) would be the bottleneck. Benchmarking revealed schema creation was 20x more expensive.</p>
<h3 id="5-context-manager-pattern-is-free">5. Context Manager Pattern is Free<a class="headerlink" href="#5-context-manager-pattern-is-free" title="Permanent link">&para;</a></h3>
<p>Adding <code>__enter__</code>/<code>__exit__</code> to dataclasses adds zero overhead to normal instantiation - methods only called when using <code>with</code> statement.</p>
<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Goal</th>
<th>Status</th>
<th>Evidence</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimal Code Changes</td>
<td>✅ Achieved</td>
<td>Just <code>@timestamp</code> decorator</td>
</tr>
<tr>
<td>No Signature Changes</td>
<td>✅ Achieved</td>
<td>Stack-walking finds collector</td>
</tr>
<tr>
<td>Low Overhead</td>
<td>✅ Achieved</td>
<td>~3μs (no capture), ~8μs (full capture)</td>
</tr>
<tr>
<td>Leave-in-Place</td>
<td>✅ Achieved</td>
<td>Production-safe overhead</td>
</tr>
<tr>
<td>Comprehensive Testing</td>
<td>✅ Achieved</td>
<td>85 tests, 100% coverage</td>
</tr>
<tr>
<td>Self-Time Calculation</td>
<td>✅ Achieved</td>
<td>Exclusive time tracked correctly</td>
</tr>
<tr>
<td>Hotspot Analysis</td>
<td>✅ Achieved</td>
<td>Sorted by self-time</td>
</tr>
</tbody>
</table>
<p><strong>The timestamp_capture system is production-ready and can be safely deployed with decorators left in place.</strong></p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../..";</script>
    <script src="../../../../js/theme_extra.js"></script>
    <script src="../../../../js/theme.js"></script>
      <script src="../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
